%% This function simulates an I current

function [IPSC, t] = generate_I(Gi, tau_rise_i, tau_decay_i, tmax)
    
    dt = 0.1;                               % time step duration (ms)
    t = 0:dt:tmax-dt;
    Vm = 0;
    EChl = -70;
    
    IPSC = ((Gi) .* (tau_rise_i * tau_decay_i / (tau_rise_i - tau_decay_i)) * ((exp(-t / tau_rise_i)) - exp(-t / tau_decay_i)) * (Vm - EChl));

    
end
